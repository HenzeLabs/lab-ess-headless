[
  {
    "id": "backend-health-check",
    "title": "Health Check API Tests",
    "description": "Test the health check endpoint for proper status and response structure",
    "endpoint": "/api/health-check",
    "method": "GET",
    "tests": [
      {
        "name": "Health Check Success",
        "request": {
          "headers": {
            "Accept": "application/json"
          }
        },
        "validations": {
          "status": 200,
          "response": {
            "type": "object",
            "required": ["status"],
            "properties": {
              "status": {
                "type": "string",
                "enum": ["ok", "healthy", "up"]
              },
              "timestamp": {
                "type": "string"
              },
              "services": {
                "type": "object"
              }
            }
          }
        }
      }
    ]
  },
  {
    "id": "backend-products",
    "title": "Products API Tests",
    "description": "Test product retrieval endpoint for proper data structure",
    "endpoint": "/api/products",
    "method": "GET",
    "tests": [
      {
        "name": "Get All Products - Success",
        "request": {
          "headers": {
            "Accept": "application/json"
          },
          "query": {
            "limit": "10"
          }
        },
        "validations": {
          "status": 200,
          "response": {
            "type": "object",
            "required": ["products", "success"],
            "properties": {
              "success": {
                "type": "boolean",
                "value": true
              },
              "products": {
                "type": "array",
                "minItems": 0,
                "items": {
                  "type": "object",
                  "required": ["id", "title", "handle"],
                  "properties": {
                    "id": {
                      "type": "string",
                      "pattern": "^[a-zA-Z0-9-_]+$"
                    },
                    "title": {
                      "type": "string",
                      "minLength": 1
                    },
                    "handle": {
                      "type": "string",
                      "pattern": "^[a-z0-9-]+$"
                    },
                    "featuredImage": {
                      "type": ["object", "null"],
                      "properties": {
                        "url": {
                          "type": "string",
                          "pattern": "^https?://"
                        },
                        "altText": {
                          "type": ["string", "null"]
                        }
                      }
                    },
                    "priceRange": {
                      "type": "object",
                      "required": ["minVariantPrice"],
                      "properties": {
                        "minVariantPrice": {
                          "type": "object",
                          "required": ["amount", "currencyCode"],
                          "properties": {
                            "amount": {
                              "type": "string",
                              "pattern": "^[0-9]+(\\.[0-9]{1,2})?$"
                            },
                            "currencyCode": {
                              "type": "string",
                              "enum": ["USD", "EUR", "GBP", "CAD", "AUD"]
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "totalCount": {
                "type": "number",
                "minimum": 0
              }
            }
          }
        }
      },
      {
        "name": "Get Products - Empty Response",
        "request": {
          "headers": {
            "Accept": "application/json"
          },
          "query": {
            "limit": "0"
          }
        },
        "validations": {
          "status": 200,
          "response": {
            "type": "object",
            "required": ["products", "success"],
            "properties": {
              "success": {
                "type": "boolean"
              },
              "products": {
                "type": "array",
                "maxItems": 0
              }
            }
          }
        }
      }
    ]
  },
  {
    "id": "backend-featured-products",
    "title": "Featured Products API Tests",
    "description": "Test featured products endpoint for curated product list",
    "endpoint": "/api/featured-products",
    "method": "GET",
    "tests": [
      {
        "name": "Get Featured Products",
        "request": {
          "headers": {
            "Accept": "application/json"
          }
        },
        "validations": {
          "status": 200,
          "response": {
            "type": "object",
            "required": ["products"],
            "properties": {
              "success": {
                "type": "boolean"
              },
              "products": {
                "type": "array",
                "minItems": 0,
                "maxItems": 12,
                "items": {
                  "type": "object",
                  "required": ["id", "title", "handle"],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "title": {
                      "type": "string"
                    },
                    "handle": {
                      "type": "string"
                    },
                    "featured": {
                      "type": "boolean"
                    },
                    "featuredImage": {
                      "type": ["object", "null"]
                    },
                    "priceRange": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    ]
  },
  {
    "id": "backend-collections",
    "title": "Collections API Tests",
    "description": "Test collections endpoint for product categorization",
    "endpoint": "/api/collections",
    "method": "GET",
    "tests": [
      {
        "name": "Get All Collections",
        "request": {
          "headers": {
            "Accept": "application/json"
          }
        },
        "validations": {
          "status": 200,
          "response": {
            "type": "object",
            "required": ["collections"],
            "properties": {
              "success": {
                "type": "boolean",
                "value": true
              },
              "collections": {
                "type": "array",
                "minItems": 0,
                "items": {
                  "type": "object",
                  "required": ["id", "title", "handle"],
                  "properties": {
                    "id": {
                      "type": "string",
                      "pattern": "^[a-zA-Z0-9-_/]+$"
                    },
                    "title": {
                      "type": "string",
                      "minLength": 1
                    },
                    "handle": {
                      "type": "string",
                      "pattern": "^[a-z0-9-]+$"
                    },
                    "description": {
                      "type": ["string", "null"]
                    },
                    "image": {
                      "type": ["object", "null"],
                      "properties": {
                        "url": {
                          "type": "string",
                          "pattern": "^https?://"
                        },
                        "altText": {
                          "type": ["string", "null"]
                        }
                      }
                    },
                    "productCount": {
                      "type": "number",
                      "minimum": 0
                    }
                  }
                }
              },
              "totalCount": {
                "type": "number",
                "minimum": 0
              }
            }
          }
        }
      },
      {
        "name": "Get Collections - Check Structure",
        "request": {
          "headers": {
            "Accept": "application/json"
          },
          "query": {
            "limit": "5"
          }
        },
        "validations": {
          "status": 200,
          "response": {
            "type": "object",
            "required": ["collections"],
            "properties": {
              "collections": {
                "type": "array",
                "maxItems": 5
              }
            }
          }
        }
      }
    ]
  },
  {
    "id": "backend-menu",
    "title": "Menu API Tests",
    "description": "Test menu structure endpoint for navigation data",
    "endpoint": "/api/menu",
    "method": "GET",
    "tests": [
      {
        "name": "Get Menu Structure",
        "request": {
          "headers": {
            "Accept": "application/json"
          }
        },
        "validations": {
          "status": 200,
          "response": {
            "type": "object",
            "required": ["items"],
            "properties": {
              "success": {
                "type": "boolean"
              },
              "items": {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "object",
                  "required": ["title", "url"],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "title": {
                      "type": "string",
                      "minLength": 1
                    },
                    "url": {
                      "type": "string",
                      "pattern": "^(/|https?://)"
                    },
                    "type": {
                      "type": "string",
                      "enum": ["COLLECTION", "PAGE", "PRODUCT", "CUSTOM", "BLOG"]
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": ["title", "url"],
                        "properties": {
                          "title": {
                            "type": "string"
                          },
                          "url": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    ]
  },
  {
    "id": "backend-product-by-handle",
    "title": "Product Detail API Tests",
    "description": "Test single product retrieval by handle",
    "endpoint": "/api/product-by-handle",
    "method": "GET",
    "tests": [
      {
        "name": "Get Product by Valid Handle",
        "request": {
          "headers": {
            "Accept": "application/json"
          },
          "query": {
            "handle": "test-product"
          }
        },
        "validations": {
          "status": [200, 404],
          "response": {
            "oneOf": [
              {
                "type": "object",
                "required": ["product"],
                "properties": {
                  "success": {
                    "type": "boolean",
                    "value": true
                  },
                  "product": {
                    "type": "object",
                    "required": ["id", "title", "handle"],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "title": {
                        "type": "string"
                      },
                      "handle": {
                        "type": "string"
                      },
                      "description": {
                        "type": ["string", "null"]
                      },
                      "variants": {
                        "type": "array"
                      }
                    }
                  }
                }
              },
              {
                "type": "object",
                "required": ["error"],
                "properties": {
                  "success": {
                    "type": "boolean",
                    "value": false
                  },
                  "error": {
                    "type": "string"
                  }
                }
              }
            ]
          }
        }
      },
      {
        "name": "Get Product - Invalid Handle",
        "request": {
          "headers": {
            "Accept": "application/json"
          },
          "query": {
            "handle": "non-existent-product-xyz-123"
          }
        },
        "validations": {
          "status": [404, 200],
          "response": {
            "type": "object",
            "anyOf": [
              {
                "required": ["error"],
                "properties": {
                  "error": {
                    "type": "string"
                  }
                }
              },
              {
                "required": ["product"],
                "properties": {
                  "product": {
                    "type": ["object", "null"]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  },
  {
    "id": "backend-checkout",
    "title": "Checkout API Tests",
    "description": "Test checkout creation and management",
    "endpoint": "/api/checkout",
    "method": "POST",
    "tests": [
      {
        "name": "Create Checkout Session",
        "request": {
          "headers": {
            "Accept": "application/json",
            "Content-Type": "application/json"
          },
          "body": {
            "items": [
              {
                "variantId": "test-variant-1",
                "quantity": 1
              }
            ]
          }
        },
        "validations": {
          "status": [200, 201, 400],
          "response": {
            "type": "object",
            "anyOf": [
              {
                "required": ["checkoutUrl"],
                "properties": {
                  "success": {
                    "type": "boolean"
                  },
                  "checkoutUrl": {
                    "type": "string",
                    "pattern": "^https?://"
                  },
                  "checkoutId": {
                    "type": "string"
                  }
                }
              },
              {
                "required": ["error"],
                "properties": {
                  "error": {
                    "type": "string"
                  }
                }
              }
            ]
          }
        }
      }
    ]
  },
  {
    "id": "backend-cache-health",
    "title": "Cache Health API Tests",
    "description": "Test cache system health monitoring",
    "endpoint": "/api/cache/health",
    "method": "GET",
    "tests": [
      {
        "name": "Check Cache Health",
        "request": {
          "headers": {
            "Accept": "application/json"
          }
        },
        "validations": {
          "status": 200,
          "response": {
            "type": "object",
            "required": ["status"],
            "properties": {
              "status": {
                "type": "string",
                "enum": ["healthy", "degraded", "unhealthy"]
              },
              "redis": {
                "type": "object",
                "properties": {
                  "connected": {
                    "type": "boolean"
                  },
                  "latency": {
                    "type": "number"
                  }
                }
              },
              "hitRate": {
                "type": "number",
                "minimum": 0,
                "maximum": 100
              }
            }
          }
        }
      }
    ]
  }
]