<!DOCTYPE html>
<html>
  <head>
    <title>Microsoft Clarity Insights Test - Lab Essentials</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background: #f8f9fa;
      }
      .header {
        background: #2c3e50;
        color: white;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 30px;
      }
      .insights-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }
      .insight-card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        border-left: 4px solid #3498db;
      }
      .insight-card h3 {
        margin-top: 0;
        color: #2c3e50;
      }
      .test-buttons {
        display: flex;
        gap: 10px;
        margin: 20px 0;
        flex-wrap: wrap;
      }
      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.3s;
      }
      .btn-primary {
        background: #3498db;
        color: white;
      }
      .btn-success {
        background: #27ae60;
        color: white;
      }
      .btn-warning {
        background: #f39c12;
        color: white;
      }
      .btn-danger {
        background: #e74c3c;
        color: white;
      }
      .btn:hover {
        opacity: 0.9;
      }
      .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }
      .product-card {
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
      }
      .product-card:hover {
        transform: translateY(-2px);
      }
      .product-image {
        height: 200px;
        background: linear-gradient(45deg, #ddd, #f0f0f0);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 48px;
      }
      .product-info {
        padding: 15px;
      }
      .status {
        margin: 20px 0;
        padding: 15px;
        background: #d4edda;
        border: 1px solid #c3e6cb;
        border-radius: 4px;
        color: #155724;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>üî¨ Microsoft Clarity Insights Test</h1>
      <p>
        Testing advanced Clarity tracking for Lab Essentials - ID: m5xby3pax0
      </p>
    </div>

    <div class="insight-card">
      <h3>üéØ What Clarity Tracks for Lab Equipment Sites</h3>
      <ul>
        <li>
          <strong>Heat Maps:</strong> Where users click on product pages,
          collection filters, and checkout
        </li>
        <li>
          <strong>Session Recordings:</strong> Complete user journeys from
          browsing to purchase
        </li>
        <li>
          <strong>User Behavior:</strong> Scroll depth, time on product pages,
          cart abandonment points
        </li>
        <li>
          <strong>Mobile vs Desktop:</strong> How lab researchers browse on
          different devices
        </li>
        <li>
          <strong>Conversion Funnels:</strong> Drop-off points in product
          discovery and checkout
        </li>
        <li>
          <strong>Error Tracking:</strong> JavaScript errors and broken user
          flows
        </li>
      </ul>
    </div>

    <div class="status" id="clarityStatus">
      üîÑ Initializing Clarity tracking...
    </div>

    <div class="test-buttons">
      <button class="btn btn-primary" onclick="testProductView()">
        üî¨ View Microscope
      </button>
      <button class="btn btn-success" onclick="testCollectionView()">
        üìÇ Browse Collection
      </button>
      <button class="btn btn-warning" onclick="testAddToCart()">
        üõí Add to Cart
      </button>
      <button class="btn btn-danger" onclick="testPurchase()">
        üí≥ Complete Purchase
      </button>
    </div>

    <div class="insights-grid">
      <div class="insight-card">
        <h3>üìä Custom Events Tracked</h3>
        <ul>
          <li>product_view (with category & price)</li>
          <li>collection_view (with product count)</li>
          <li>add_to_cart (with product details)</li>
          <li>purchase_complete (with order value)</li>
          <li>filter_usage (category/price filters)</li>
          <li>search_performed (product searches)</li>
        </ul>
      </div>

      <div class="insight-card">
        <h3>üé® User Segments Tracked</h3>
        <ul>
          <li>Device Category: Mobile/Tablet/Desktop</li>
          <li>Page Type: Product/Collection/Checkout</li>
          <li>User Type: New/Returning/Professional</li>
          <li>Cart Value: Low/Medium/High value orders</li>
          <li>Product Category: Microscopes/Centrifuges/etc</li>
        </ul>
      </div>

      <div class="insight-card">
        <h3>üìà Lab Equipment Insights</h3>
        <ul>
          <li>Which microscope specs users focus on</li>
          <li>How users compare centrifuge speeds</li>
          <li>Common filter combinations used</li>
          <li>Mobile vs desktop purchase patterns</li>
          <li>Product image interaction patterns</li>
          <li>Checkout abandonment reasons</li>
        </ul>
      </div>

      <div class="insight-card">
        <h3>üîç Access Your Clarity Dashboard</h3>
        <p>
          <strong>URL:</strong>
          <a
            href="https://clarity.microsoft.com/projects/view/m5xby3pax0"
            target="_blank"
            >clarity.microsoft.com</a
          >
        </p>
        <p><strong>Project ID:</strong> m5xby3pax0</p>
        <p><strong>Features Available:</strong></p>
        <ul>
          <li>Real-time session recordings</li>
          <li>Heat maps for all pages</li>
          <li>User journey analysis</li>
          <li>Custom event insights</li>
          <li>Performance metrics</li>
        </ul>
      </div>
    </div>

    <div class="product-grid">
      <div class="product-card" onclick="clarityProductClick('microscope-pro')">
        <div class="product-image">üî¨</div>
        <div class="product-info">
          <h4>Professional Microscope</h4>
          <p>$1,299.99</p>
          <small>Category: Microscopes</small>
        </div>
      </div>

      <div
        class="product-card"
        onclick="clarityProductClick('centrifuge-high-speed')"
      >
        <div class="product-image">‚öóÔ∏è</div>
        <div class="product-info">
          <h4>High-Speed Centrifuge</h4>
          <p>$899.99</p>
          <small>Category: Centrifuges</small>
        </div>
      </div>

      <div
        class="product-card"
        onclick="clarityProductClick('balance-precision')"
      >
        <div class="product-image">‚öñÔ∏è</div>
        <div class="product-info">
          <h4>Precision Balance</h4>
          <p>$599.99</p>
          <small>Category: Balances</small>
        </div>
      </div>
    </div>

    <!-- Microsoft Clarity -->
    <script type="text/javascript">
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = 'https://www.clarity.ms/tag/' + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, 'clarity', 'script', 'm5xby3pax0');
    </script>

    <script>
      // Initialize Clarity with custom segments
      setTimeout(() => {
        if (window.clarity) {
          window.clarity('set', 'page_type', 'test_page');
          window.clarity('set', 'site_section', 'analytics_testing');
          window.clarity(
            'set',
            'device_category',
            window.innerWidth <= 768 ? 'mobile' : 'desktop',
          );
          window.clarity('set', 'user_type', 'test_user');

          document.getElementById('clarityStatus').innerHTML =
            '‚úÖ Clarity tracking active! Visit <a href="https://clarity.microsoft.com/projects/view/m5xby3pax0" target="_blank">your dashboard</a> to see data.';
          console.log('‚úÖ Clarity initialized with custom segments');
        }
      }, 2000);

      function testProductView() {
        if (window.clarity) {
          window.clarity('event', 'product_view', {
            product_id: 'MICROSCOPE_PRO_001',
            product_name: 'Professional Lab Microscope',
            category: 'microscopes',
            price: 1299.99,
            currency: 'USD',
          });
          console.log('üî¨ Clarity: Product view event sent');
          alert('Clarity: Product view event sent! Check your dashboard.');
        }
      }

      function testCollectionView() {
        if (window.clarity) {
          window.clarity('event', 'collection_view', {
            collection_name: 'Microscopes',
            product_count: 15,
            categories: ['optical', 'digital', 'stereo'],
          });
          console.log('üìÇ Clarity: Collection view event sent');
          alert('Clarity: Collection view event sent! Check your dashboard.');
        }
      }

      function testAddToCart() {
        if (window.clarity) {
          window.clarity('event', 'add_to_cart', {
            product_id: 'MICROSCOPE_PRO_001',
            product_name: 'Professional Lab Microscope',
            category: 'microscopes',
            price: 1299.99,
            quantity: 1,
            cart_value: 1299.99,
          });
          console.log('üõí Clarity: Add to cart event sent');
          alert('Clarity: Add to cart event sent! Check your dashboard.');
        }
      }

      function testPurchase() {
        if (window.clarity) {
          window.clarity('event', 'purchase_complete', {
            order_id: 'ORDER_' + Date.now(),
            order_value: 2199.98,
            currency: 'USD',
            item_count: 2,
            categories: ['microscopes', 'accessories'],
            product_types: ['Professional Lab Microscope', 'Slide Kit'],
          });
          console.log('üí≥ Clarity: Purchase event sent');
          alert('Clarity: Purchase complete event sent! Check your dashboard.');
        }
      }

      function clarityProductClick(productId) {
        if (window.clarity) {
          window.clarity('event', 'product_click', {
            product_id: productId,
            click_source: 'product_grid',
          });
          console.log(`üñ±Ô∏è Clarity: Product click tracked for ${productId}`);
        }
      }

      // Track scroll depth
      let maxScroll = 0;
      window.addEventListener('scroll', () => {
        const scrollPercent = Math.round(
          (window.scrollY / (document.body.scrollHeight - window.innerHeight)) *
            100,
        );
        if (scrollPercent > maxScroll) {
          maxScroll = scrollPercent;
          if (maxScroll % 25 === 0 && window.clarity) {
            window.clarity('event', 'scroll_depth', { percent: maxScroll });
          }
        }
      });

      // Track time on page
      let timeOnPage = 0;
      setInterval(() => {
        timeOnPage += 10;
        if (timeOnPage % 30 === 0 && window.clarity) {
          window.clarity('set', 'time_on_page', timeOnPage + 's');
        }
      }, 10000);
    </script>
  </body>
</html>
