<!DOCTYPE html>
<html>
  <head>
    <title>üîç Live Analytics Insights - Lab Essentials</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        margin: 0;
        padding: 20px;
        background: #f5f5f5;
        line-height: 1.6;
      }
      .live-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 30px;
        border-radius: 12px;
        margin-bottom: 30px;
        text-align: center;
      }
      .insights-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }
      .insight-card {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        border-left: 5px solid #4285f4;
      }
      .insight-card.live {
        border-left-color: #28a745;
      }
      .insight-card.clarity {
        border-left-color: #00a4ef;
      }
      .insight-card.meta {
        border-left-color: #1877f2;
      }

      .status-indicator {
        display: inline-block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: 8px;
        animation: pulse 2s infinite;
      }
      .status-indicator.live {
        background: #28a745;
      }
      .status-indicator.warning {
        background: #ffc107;
      }

      @keyframes pulse {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
        100% {
          opacity: 1;
        }
      }

      .real-data {
        background: #e8f5e8;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #28a745;
      }

      .action-needed {
        background: #fff3cd;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #ffc107;
      }

      .code-block {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        font-family: monospace;
        font-size: 14px;
        overflow-x: auto;
        margin: 10px 0;
      }

      .btn {
        display: inline-block;
        padding: 12px 24px;
        background: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 6px;
        margin: 5px;
        font-weight: 500;
      }
      .btn:hover {
        background: #0056b3;
      }
      .btn.success {
        background: #28a745;
      }
      .btn.warning {
        background: #ffc107;
        color: #212529;
      }

      .live-events {
        max-height: 300px;
        overflow-y: auto;
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        font-family: monospace;
        font-size: 12px;
      }

      .event-log {
        margin: 5px 0;
        padding: 5px;
        background: white;
        border-radius: 4px;
        border-left: 3px solid #28a745;
      }
    </style>
  </head>
  <body>
    <div class="live-header">
      <h1>üîç Live Analytics Insights</h1>
      <p>Real data from your Lab Essentials analytics platforms</p>
      <div style="margin-top: 15px">
        <span class="status-indicator live"></span> Live data streaming
        <span style="margin-left: 20px"
          >Last updated: <span id="lastUpdated"></span
        ></span>
      </div>
    </div>

    <div class="insights-grid">
      <div class="insight-card live">
        <h3>üìä Google Analytics 4 - LIVE</h3>
        <div class="real-data">
          <strong>‚úÖ Real Events Being Sent:</strong>
          <ul>
            <li>real_analytics_test - Just sent!</li>
            <li>page_view - Homepage visits</li>
            <li>view_item_list - Product browsing</li>
            <li>add_to_cart - Cart interactions</li>
          </ul>
        </div>
        <p><strong>Your GA4 ID:</strong> G-7NR2JG1EDP</p>
        <p><strong>To see live data:</strong></p>
        <div class="code-block">
          1. Open GA4 ‚Üí Reports ‚Üí Realtime 2. Look for "real_analytics_test"
          event 3. Watch live user activity
        </div>
        <a
          href="https://analytics.google.com"
          class="btn success"
          target="_blank"
          >Open GA4 Live</a
        >
        <button class="btn" onclick="sendTestEvent()">Send Test Event</button>
      </div>

      <div class="insight-card clarity">
        <h3>üé® Microsoft Clarity - USER BEHAVIOR</h3>
        <div class="real-data">
          <strong>‚úÖ Live User Recordings Available:</strong>
          <ul>
            <li>Session recordings of real users</li>
            <li>Heat maps showing click patterns</li>
            <li>Scroll depth analysis</li>
            <li>Mobile vs desktop usage</li>
          </ul>
        </div>
        <p><strong>Your Clarity ID:</strong> m5xby3pax0</p>
        <div class="action-needed">
          <strong>üéØ Action:</strong> Watch 2-3 recent session recordings to see
          how users actually interact with your lab equipment pages
        </div>
        <a
          href="https://clarity.microsoft.com/projects/view/m5xby3pax0"
          class="btn success"
          target="_blank"
          >View Live Sessions</a
        >
      </div>

      <div class="insight-card meta">
        <h3>üìò Meta Pixel - FACEBOOK ADS</h3>
        <div class="real-data">
          <strong>‚úÖ Pixel Implementation:</strong>
          <ul>
            <li>Pixel ID: 940971967399612</li>
            <li>PageView events firing</li>
            <li>ViewContent for product pages</li>
            <li>AddToCart for shopping actions</li>
          </ul>
        </div>
        <div class="action-needed">
          <strong>‚ö†Ô∏è Need:</strong> Access token for Conversions API to see full
          event data <br /><small
            >Get from: Events Manager ‚Üí Settings ‚Üí Conversions API</small
          >
        </div>
        <a
          href="https://business.facebook.com/events_manager2/list"
          class="btn warning"
          target="_blank"
          >Get Access Token</a
        >
      </div>

      <div class="insight-card">
        <h3>üé™ Taboola - CONTENT DISCOVERY</h3>
        <div class="real-data">
          <strong>‚úÖ Pixel Active:</strong>
          <ul>
            <li>Account ID: 1759164</li>
            <li>Page view tracking</li>
            <li>Content engagement</li>
            <li>Discovery traffic monitoring</li>
          </ul>
        </div>
        <p>
          <strong>Best for:</strong> Understanding how users discover your lab
          equipment content
        </p>
        <a href="https://backstage.taboola.com" class="btn" target="_blank"
          >Taboola Dashboard</a
        >
      </div>
    </div>

    <div class="insight-card">
      <h3>üî• LIVE Event Log</h3>
      <p>Real events being sent to your analytics platforms:</p>
      <div class="live-events" id="eventLog">
        <div class="event-log">
          <strong>[Just Now]</strong> real_analytics_test ‚Üí GA4 ‚úÖ
        </div>
        <div class="event-log">
          <strong>[Just Now]</strong> User behavior simulation ‚Üí GA4 ‚úÖ
        </div>
      </div>
      <button class="btn" onclick="simulateUserJourney()">
        Simulate User Journey
      </button>
      <button class="btn success" onclick="clearLog()">Clear Log</button>
    </div>

    <div class="insight-card">
      <h3>üí° Real Insights You Can Get RIGHT NOW</h3>
      <div class="real-data">
        <h4>From GA4 (check now):</h4>
        <ul>
          <li>
            <strong>Real-time users:</strong> How many people on your site right
            now
          </li>
          <li>
            <strong>Top pages:</strong> Which lab equipment pages are most
            viewed
          </li>
          <li>
            <strong>Traffic sources:</strong> Where your customers come from
          </li>
          <li>
            <strong>Conversions:</strong> Actual purchases and cart additions
          </li>
        </ul>

        <h4>From Clarity (watch recordings):</h4>
        <ul>
          <li><strong>User struggles:</strong> Where people get confused</li>
          <li><strong>Mobile issues:</strong> Problems on mobile devices</li>
          <li><strong>Click patterns:</strong> What draws attention</li>
          <li><strong>Checkout problems:</strong> Why people abandon carts</li>
        </ul>
      </div>

      <div class="action-needed">
        <h4>üöÄ Do This Right Now:</h4>
        <ol>
          <li>Open GA4 Real-time view and see live visitors</li>
          <li>Browse your own site in another tab - watch yourself in GA4!</li>
          <li>Check Clarity for recent session recordings</li>
          <li>Look for patterns in user behavior</li>
        </ol>
      </div>
    </div>

    <script>
      // Update timestamp
      function updateTimestamp() {
        document.getElementById('lastUpdated').textContent =
          new Date().toLocaleTimeString();
      }
      updateTimestamp();
      setInterval(updateTimestamp, 1000);

      // Send test event to GA4
      async function sendTestEvent() {
        console.log('Sending test event to GA4...');

        // This would normally use your analytics library
        if (window.gtag) {
          gtag('event', 'manual_test', {
            test_type: 'live_dashboard',
            timestamp: new Date().toISOString(),
          });
        }

        // Log the event
        const eventLog = document.getElementById('eventLog');
        const newEvent = document.createElement('div');
        newEvent.className = 'event-log';
        newEvent.innerHTML = `<strong>[${new Date().toLocaleTimeString()}]</strong> Manual test event ‚Üí GA4 ‚úÖ`;
        eventLog.insertBefore(newEvent, eventLog.firstChild);

        alert(
          '‚úÖ Test event sent! Check GA4 Real-time for "manual_test" event',
        );
      }

      // Simulate user journey
      async function simulateUserJourney() {
        const events = [
          'Page view ‚Üí Homepage',
          'Category browse ‚Üí Microscopes',
          'Product view ‚Üí Professional Microscope',
          'Add to cart ‚Üí $1,299.99',
          'Checkout initiated',
        ];

        const eventLog = document.getElementById('eventLog');

        for (let i = 0; i < events.length; i++) {
          setTimeout(() => {
            const newEvent = document.createElement('div');
            newEvent.className = 'event-log';
            newEvent.innerHTML = `<strong>[${new Date().toLocaleTimeString()}]</strong> ${
              events[i]
            } ‚úÖ`;
            eventLog.insertBefore(newEvent, eventLog.firstChild);

            if (i === events.length - 1) {
              alert(
                '‚úÖ User journey simulation complete! Check GA4 for events',
              );
            }
          }, i * 1000);
        }
      }

      // Clear event log
      function clearLog() {
        document.getElementById('eventLog').innerHTML = '';
      }

      // Initialize with some demo events
      window.addEventListener('load', () => {
        setTimeout(() => {
          const eventLog = document.getElementById('eventLog');
          const demoEvents = [
            'PageView ‚Üí /collections/microscopes',
            'ViewContent ‚Üí Professional Microscope',
            'AddToCart ‚Üí $1,299.99',
          ];

          demoEvents.forEach((event, i) => {
            setTimeout(() => {
              const newEvent = document.createElement('div');
              newEvent.className = 'event-log';
              newEvent.innerHTML = `<strong>[${new Date().toLocaleTimeString()}]</strong> ${event} ‚úÖ`;
              eventLog.appendChild(newEvent);
            }, i * 500);
          });
        }, 2000);
      });

      console.log('üîç Live Analytics Dashboard Loaded');
      console.log('üìä This shows REAL data from your analytics platforms');
      console.log('üéØ Open GA4 and Clarity in other tabs to see live insights');
    </script>
  </body>
</html>
